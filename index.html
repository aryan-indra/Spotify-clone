<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MusicStream - Your Music Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* [Keep all your existing CSS styles] */
        /* They are perfect and don't need modification */
    </style>
</head>

<body>
    <nav class="sidebar">
        <i class="sidebar-icon fas fa-home active" data-view="home"></i>
        <i class="sidebar-icon fas fa-search" data-view="search"></i>
        <i class="sidebar-icon fas fa-heart" data-view="liked"></i>
        <i class="sidebar-icon fas fa-list" data-view="playlists"></i>
        <i class="sidebar-icon fas fa-user" data-view="profile"></i>
    </nav>

    <main class="main-content">
        <div class="home-header">
            <div class="welcome-message">
                <h1>Good afternoon</h1>
                <p>Discover new music and enjoy your favorites</p>
            </div>
            <div class="user-profile">
                <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="User Avatar" class="user-avatar">
                <span class="user-name">John Doe</span>
            </div>
        </div>

        <!-- Spotify Login Button -->
        <div id="spotify-login-container" style="margin-bottom: 20px; text-align: center;">
            <button id="login-button" class="modal-button" style="background: #1DB954;">
                <i class="fab fa-spotify"></i> Login with Spotify
            </button>
        </div>

        <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-input" placeholder="Search for artists, songs, or albums" id="searchInput">
            <div class="search-results" id="searchResults"></div>
        </div>

        <section class="recently-played">
            <h2 class="section-title">Recently Played</h2>
            <div class="track-carousel" id="recentlyPlayedTracks">
                <!-- Recently played tracks will be dynamically populated -->
            </div>
        </section>

        <section class="top-artists">
            <h2 class="section-title">Top Artists</h2>
            <div class="artist-grid" id="artistGrid">
                <!-- Artist cards will be dynamically populated -->
            </div>
        </section>

        <section class="recommended-playlists">
            <h2 class="section-title">Recommended Playlists</h2>
            <div class="playlist-grid" id="spotifyPlaylists">
                <!-- Spotify playlists will be dynamically populated -->
            </div>
        </section>

        <section class="liked-songs-section" id="likedSongsSection">
            <h2 class="section-title">Liked Songs</h2>
            <div class="liked-songs-container" id="likedSongsContainer">
                <div class="empty-state" id="likedSongsEmptyState">
                    <i class="fas fa-heart-broken"></i>
                    <p>You haven't liked any songs yet</p>
                </div>
            </div>
        </section>

        <section class="user-playlists-section">
            <h2 class="section-title">Your Playlists</h2>
            <button class="create-playlist-button" id="createPlaylistBtn">
                <i class="fas fa-plus"></i> Create Playlist
            </button>
            <div class="playlist-grid" id="userPlaylistsGrid">
                <div class="empty-state" id="playlistsEmptyState">
                    <i class="fas fa-music"></i>
                    <p>You haven't created any playlists yet</p>
                </div>
            </div>
        </section>

        <div class="custom-file-path">
            <h3 class="custom-file-path-title">Play Local Music</h3>
            <input type="file" id="fileUpload" accept="audio/*" style="display: none;">
            <button class="file-path-button" id="chooseFileBtn">
                <i class="fas fa-folder-open"></i> Choose File
            </button>
        </div>

        <!-- Modals -->
        <div class="modal-overlay" id="createPlaylistModal">
            <div class="modal">
                <button class="modal-close" id="closeCreatePlaylistModal"><i class="fas fa-times"></i></button>
                <h2 class="modal-title">Create New Playlist</h2>
                <input type="text" class="modal-input" id="playlistNameInput" placeholder="Playlist Name">
                <input type="text" class="modal-input" id="playlistDescriptionInput"
                    placeholder="Description (optional)">
                <button class="modal-button" id="savePlaylistBtn">Create Playlist</button>
            </div>
        </div>

        <div class="modal-overlay" id="addToPlaylistModal">
            <div class="modal">
                <button class="modal-close" id="closeAddToPlaylistModal"><i class="fas fa-times"></i></button>
                <h2 class="modal-title">Add to Playlist</h2>
                <div class="playlist-list" id="playlistSelectList">
                    <div class="empty-state">
                        <p>No playlists found. Create one first!</p>
                    </div>
                </div>
                <button class="modal-button" id="addToPlaylistBtn">Add to Playlist</button>
            </div>
        </div>
    </main>

    <div class="music-player">
        <div class="now-playing">
            <img src="https://via.placeholder.com/50" class="track-artwork-small" id="current-artwork"
                alt="Current track">
            <div class="track-info">
                <div class="track-title-small" id="current-title">Select a track</div>
                <div class="track-artist-small" id="current-artist">-</div>
            </div>
        </div>
        <div class="player-center">
            <div class="controls">
                <button class="control-button" id="shuffleBtn"><i class="fas fa-random"></i></button>
                <button class="control-button" id="prevBtn"><i class="fas fa-step-backward"></i></button>
                <button class="control-button play-pause" id="playPauseBtn"><i class="fas fa-play"></i></button>
                <button class="control-button" id="nextBtn"><i class="fas fa-step-forward"></i></button>
                <button class="control-button" id="repeatBtn"><i class="fas fa-redo"></i></button>
            </div>
            <div class="progress-bar" id="progressBar">
                <div class="progress" id="progress"></div>
                <div class="progress-handle" id="progressHandle"></div>
            </div>
            <div class="time-display">
                <span id="currentTime">0:00</span>
                <span id="duration">0:00</span>
            </div>
        </div>
        <div class="volume-container">
            <i class="fas fa-volume-up" id="volumeIcon"></i>
            <input type="range" class="volume-slider" id="volumeSlider" min="0" max="1" step="0.1" value="1">
        </div>
    </div>

    <div class="notification" id="notification">Welcome to MusicStream</div>

    <!-- Spotify Web Playback SDK -->
    <script src="https://sdk.scdn.co/spotify-player.js"></script>

    <script>
        // ==============================================
        // Spotify API Configuration
        // ==============================================
        const clientId = 'YOUR_SPOTIFY_CLIENT_ID'; // Replace with your Spotify Client ID
        const redirectUri = 'http://127.0.0.1:8000/callback'; // Must match your Spotify app settings

        // Spotify API endpoints
        const authEndpoint = 'https://accounts.spotify.com/authorize';
        const apiEndpoint = 'https://api.spotify.com/v1';

        // Scopes determine what permissions you're requesting
        const scopes = [
            'user-read-private',
            'user-read-email',
            'user-modify-playback-state',
            'user-read-playback-state',
            'user-library-read',
            'user-library-modify',
            'playlist-read-private',
            'playlist-modify-public',
            'playlist-modify-private',
            'user-read-recently-played',
            'user-top-read',
            'streaming'
        ];

        // ==============================================
        // Audio Player Setup
        // ==============================================
        let audio = new Audio();
        let isPlaying = false;
        let currentTrackIndex = 0;
        let isShuffleOn = false;
        let isRepeatOn = false;
        let likedSongs = JSON.parse(sessionStorage.getItem('likedSongs')) || [];
        let recentlyPlayed = JSON.parse(sessionStorage.getItem('recentlyPlayed')) || [];
        let userPlaylists = JSON.parse(sessionStorage.getItem('userPlaylists')) || [];
        let currentTrackForPlaylist = null;
        let spotifyPlayer;
        let spotifyDeviceId;
        let spotifyAccessToken;
        let isUsingSpotifyPlayer = false;

        // Set default audio path
        audio.preload = 'metadata';
        audio.volume = 1;

        // ==============================================
        // DOM Elements
        // ==============================================
        const playPauseBtn = document.getElementById('playPauseBtn');
        const progress = document.getElementById('progress');
        const progressBar = document.getElementById('progressBar');
        const progressHandle = document.getElementById('progressHandle');
        const volumeSlider = document.getElementById('volumeSlider');
        const volumeIcon = document.getElementById('volumeIcon');
        const currentTimeDisplay = document.getElementById('currentTime');
        const durationDisplay = document.getElementById('duration');
        const currentTitle = document.getElementById('current-title');
        const currentArtist = document.getElementById('current-artist');
        const currentArtwork = document.getElementById('current-artwork');
        const shuffleBtn = document.getElementById('shuffleBtn');
        const repeatBtn = document.getElementById('repeatBtn');
        const notification = document.getElementById('notification');
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        const loginButton = document.getElementById('login-button');
        const spotifyLoginContainer = document.getElementById('spotify-login-container');

        // New UI elements
        const likedSongsSection = document.getElementById('likedSongsSection');
        const likedSongsContainer = document.getElementById('likedSongsContainer');
        const likedSongsEmptyState = document.getElementById('likedSongsEmptyState');
        const userPlaylistsGrid = document.getElementById('userPlaylistsGrid');
        const playlistsEmptyState = document.getElementById('playlistsEmptyState');
        const createPlaylistBtn = document.getElementById('createPlaylistBtn');
        const createPlaylistModal = document.getElementById('createPlaylistModal');
        const closeCreatePlaylistModal = document.getElementById('closeCreatePlaylistModal');
        const playlistNameInput = document.getElementById('playlistNameInput');
        const playlistDescriptionInput = document.getElementById('playlistDescriptionInput');
        const savePlaylistBtn = document.getElementById('savePlaylistBtn');
        const addToPlaylistModal = document.getElementById('addToPlaylistModal');
        const closeAddToPlaylistModal = document.getElementById('closeAddToPlaylistModal');
        const playlistSelectList = document.getElementById('playlistSelectList');
        const addToPlaylistBtn = document.getElementById('addToPlaylistBtn');
        const chooseFileBtn = document.getElementById('chooseFileBtn');
        const fileUpload = document.getElementById('fileUpload');
        const spotifyPlaylists = document.getElementById('spotifyPlaylists');

        // ==============================================
        // Spotify Authentication
        // ==============================================
        loginButton.addEventListener('click', () => {
            window.location = `${authEndpoint}?client_id=${clientId}&redirect_uri=${encodeURIComponent(redirectUri)}&scope=${encodeURIComponent(scopes.join(' '))}&response_type=token&show_dialog=true`;
        });

        // Check for access token in URL after redirect
        window.addEventListener('load', () => {
            const hash = window.location.hash.substring(1);
            const params = new URLSearchParams(hash);
            const accessToken = params.get('access_token');

            if (accessToken) {
                spotifyAccessToken = accessToken;
                spotifyLoginContainer.style.display = 'none';
                initializeSpotifyPlayer(accessToken);
                fetchSpotifyData(accessToken);
            }
        });

        // ==============================================
        // Spotify Web Playback SDK
        // ==============================================
        function initializeSpotifyPlayer(token) {
            window.onSpotifyWebPlaybackSDKReady = () => {
                spotifyPlayer = new Spotify.Player({
                    name: 'MusicStream Player',
                    getOAuthToken: cb => { cb(token); },
                    volume: 0.5
                });

                // Error handling
                spotifyPlayer.addListener('initialization_error', ({ message }) => {
                    console.error(message);
                    showNotification('Spotify player initialization error');
                });
                spotifyPlayer.addListener('authentication_error', ({ message }) => {
                    console.error(message);
                    showNotification('Spotify authentication error');
                });
                spotifyPlayer.addListener('account_error', ({ message }) => {
                    console.error(message);
                    showNotification('Spotify account error');
                });
                spotifyPlayer.addListener('playback_error', ({ message }) => {
                    console.error(message);
                    showNotification('Spotify playback error');
                });

                // Playback status updates
                spotifyPlayer.addListener('player_state_changed', state => {
                    if (state) {
                        updatePlayerUI(state.track_window.current_track);
                    }
                });

                // Ready
                spotifyPlayer.addListener('ready', ({ device_id }) => {
                    console.log('Ready with Device ID', device_id);
                    spotifyDeviceId = device_id;
                    showNotification('Connected to Spotify');
                });

                // Connect to the player
                spotifyPlayer.connect();
            };
        }

        // ==============================================
        // Spotify API Functions
        // ==============================================
        async function fetchSpotifyData(token) {
            try {
                // Fetch user profile
                const profile = await fetchSpotifyAPI('me', token);
                updateUserProfile(profile);

                // Fetch recently played tracks
                const recentTracks = await fetchSpotifyAPI('me/player/recently-played?limit=10', token);
                updateRecentlyPlayedSpotify(recentTracks.items);

                // Fetch top artists
                const topArtists = await fetchSpotifyAPI('me/top/artists?limit=8', token);
                updateTopArtistsSpotify(topArtists.items);

                // Fetch featured playlists
                const featuredPlaylists = await fetchSpotifyAPI('browse/featured-playlists?limit=4', token);
                updateFeaturedPlaylists(featuredPlaylists.playlists.items);

                // Fetch user's playlists
                const userPlaylists = await fetchSpotifyAPI('me/playlists?limit=10', token);
                updateUserPlaylistsSpotify(userPlaylists.items);

                // Fetch user's liked songs
                const likedSongs = await fetchSpotifyAPI('me/tracks?limit=50', token);
                updateLikedSongsSpotify(likedSongs.items);

            } catch (error) {
                console.error('Error fetching Spotify data:', error);
                showNotification('Error loading Spotify data');
            }
        }

        async function fetchSpotifyAPI(endpoint, token) {
            const response = await fetch(`${apiEndpoint}/${endpoint}`, {
                headers: {
                    'Authorization': `Bearer ${token}`
                }
            });

            if (!response.ok) {
                throw new Error(`Spotify API request failed: ${response.status}`);
            }

            return await response.json();
        }

        function updateUserProfile(profile) {
            const userAvatar = document.querySelector('.user-avatar');
            const userName = document.querySelector('.user-name');

            if (profile.images && profile.images.length > 0) {
                userAvatar.src = profile.images[0].url;
            }
            userName.textContent = profile.display_name || profile.id;
        }

        function updateRecentlyPlayedSpotify(tracks) {
            const trackCarousel = document.getElementById('recentlyPlayedTracks');
            trackCarousel.innerHTML = '';

            tracks.forEach(track => {
                const trackCard = createSpotifyTrackCard(track.track);
                trackCarousel.appendChild(trackCard);
            });
        }

        function updateTopArtistsSpotify(artists) {
            const artistGrid = document.getElementById('artistGrid');
            artistGrid.innerHTML = '';

            artists.forEach(artist => {
                const artistCard = document.createElement('div');
                artistCard.className = 'artist-card';

                artistCard.innerHTML = `
                    <img src="${artist.images[0]?.url || 'https://via.placeholder.com/150'}" alt="${artist.name}" class="artist-image">
                    <div class="artist-name">${artist.name}</div>
                    <div class="artist-genre">${artist.genres.slice(0, 2).join(', ')}</div>
                `;

                artistGrid.appendChild(artistCard);
            });
        }

        function updateFeaturedPlaylists(playlists) {
            spotifyPlaylists.innerHTML = '';

            playlists.forEach(playlist => {
                const playlistCard = document.createElement('div');
                playlistCard.className = 'playlist-card';

                playlistCard.innerHTML = `
                    <img src="${playlist.images[0]?.url || 'https://via.placeholder.com/80'}" alt="${playlist.name}" class="playlist-artwork">
                    <div class="playlist-info">
                        <div class="playlist-title">${playlist.name}</div>
                        <div class="playlist-description">${playlist.description || 'By Spotify'}</div>
                    </div>
                `;

                playlistCard.addEventListener('click', () => {
                    playSpotifyPlaylist(playlist.uri);
                });

                spotifyPlaylists.appendChild(playlistCard);
            });
        }

        function updateUserPlaylistsSpotify(playlists) {
            userPlaylistsGrid.innerHTML = '';

            if (playlists.length === 0) {
                playlistsEmptyState.style.display = 'block';
                userPlaylistsGrid.appendChild(playlistsEmptyState);
                return;
            }

            playlistsEmptyState.style.display = 'none';

            playlists.forEach(playlist => {
                const playlistCard = document.createElement('div');
                playlistCard.className = 'playlist-card';

                playlistCard.innerHTML = `
                    <img src="${playlist.images[0]?.url || 'https://via.placeholder.com/80'}" alt="${playlist.name}" class="playlist-artwork">
                    <div class="playlist-info">
                        <div class="playlist-title">${playlist.name}</div>
                        <div class="playlist-description">${playlist.description || 'Your playlist'}</div>
                    </div>
                `;

                playlistCard.addEventListener('click', () => {
                    playSpotifyPlaylist(playlist.uri);
                });

                userPlaylistsGrid.appendChild(playlistCard);
            });
        }

        function updateLikedSongsSpotify(tracks) {
            likedSongsContainer.innerHTML = '';

            if (tracks.length === 0) {
                likedSongsEmptyState.style.display = 'block';
                likedSongsContainer.appendChild(likedSongsEmptyState);
                return;
            }

            likedSongsEmptyState.style.display = 'none';

            tracks.forEach(item => {
                const track = item.track;
                const songItem = document.createElement('div');
                songItem.className = 'liked-song-item';

                songItem.innerHTML = `
                    <img src="${track.album.images[0]?.url || 'https://via.placeholder.com/50'}" alt="${track.name}" class="liked-song-cover">
                    <div class="liked-song-info">
                        <div class="liked-song-title">${track.name}</div>
                        <div class="liked-song-artist">${track.artists.map(a => a.name).join(', ')}</div>
                    </div>
                    <div class="liked-song-actions">
                        <button class="liked-song-play" title="Play"><i class="fas fa-play"></i></button>
                        <button class="liked-song-heart" title="Unlike"><i class="fas fa-heart"></i></button>
                    </div>
                `;

                songItem.querySelector('.liked-song-play').addEventListener('click', () => {
                    playSpotifyTrack(track.uri);
                });

                likedSongsContainer.appendChild(songItem);
            });

            likedSongsSection.style.display = 'block';
        }

        function createSpotifyTrackCard(track) {
            const trackCard = document.createElement('div');
            trackCard.className = 'track-card';

            trackCard.innerHTML = `
                <img src="${track.album.images[0]?.url || 'https://via.placeholder.com/200'}" alt="${track.name}" class="track-artwork">
                <div class="track-title">${track.name}</div>
                <div class="track-artist">${track.artists.map(a => a.name).join(', ')}</div>
                <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                    <button class="liked-song-play" title="Play"><i class="fas fa-play"></i></button>
                </div>
            `;

            trackCard.querySelector('.liked-song-play').addEventListener('click', () => {
                playSpotifyTrack(track.uri);
            });

            return trackCard;
        }

        function playSpotifyTrack(trackUri) {
            if (!spotifyDeviceId || !spotifyAccessToken) {
                showNotification('Spotify player not ready');
                return;
            }

            fetch(`https://api.spotify.com/v1/me/player/play?device_id=${spotifyDeviceId}`, {
                method: 'PUT',
                headers: {
                    'Authorization': `Bearer ${spotifyAccessToken}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    uris: [trackUri]
                })
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to play track');
                    }
                    isUsingSpotifyPlayer = true;
                    showNotification('Playing on Spotify');
                })
                .catch(error => {
                    console.error('Error playing track:', error);
                    showNotification('Error playing track');
                });
        }

        function playSpotifyPlaylist(playlistUri) {
            if (!spotifyDeviceId || !spotifyAccessToken) {
                showNotification('Spotify player not ready');
                return;
            }

            fetch(`https://api.spotify.com/v1/me/player/play?device_id=${spotifyDeviceId}`, {
                method: 'PUT',
                headers: {
                    'Authorization': `Bearer ${spotifyAccessToken}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    context_uri: playlistUri
                })
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to play playlist');
                    }
                    isUsingSpotifyPlayer = true;
                    showNotification('Playing playlist on Spotify');
                })
                .catch(error => {
                    console.error('Error playing playlist:', error);
                    showNotification('Error playing playlist');
                });
        }

        function updatePlayerUI(track) {
            currentTitle.textContent = track.name;
            currentArtist.textContent = track.artists.map(a => a.name).join(', ');
            currentArtwork.src = track.album.images[0]?.url || 'https://via.placeholder.com/50';
        }

        // ==============================================
        // Local File Playback
        // ==============================================
        chooseFileBtn.addEventListener('click', () => {
            fileUpload.click();
        });

        fileUpload.addEventListener('change', function (e) {
            const file = e.target.files[0];
            if (!file) return;

            const url = URL.createObjectURL(file);

            const customTrack = {
                id: 'custom-' + Date.now(),
                title: file.name.replace(/\.[^/.]+$/, ""),
                artist: 'Local File',
                album: 'Local Files',
                cover: 'https://via.placeholder.com/300',
                src: url
            };

            loadLocalTrack(customTrack);

            // Clean up when track ends
            audio.addEventListener('ended', function cleanup() {
                URL.revokeObjectURL(url);
                audio.removeEventListener('ended', cleanup);
            }, { once: true });
        });

        function loadLocalTrack(track) {
            isUsingSpotifyPlayer = false;

            // Update UI
            currentTitle.textContent = track.title;
            currentArtist.textContent = track.artist || 'Unknown Artist';
            currentArtwork.src = track.cover || 'https://via.placeholder.com/50';

            // Create a new audio element to avoid caching issues
            const newAudio = new Audio();
            newAudio.preload = 'metadata';

            // Set up event listeners for the new audio element
            newAudio.addEventListener('error', (e) => {
                console.error('Audio error:', e);
                showNotification('Error loading audio file');
            });

            newAudio.addEventListener('canplay', () => {
                // Replace the old audio element with the new one
                audio.pause();
                audio.src = '';
                audio.remove();

                // Transfer all event listeners to the new audio element
                // (Reattach your existing event listeners here)

                // Set the new audio element as the current one
                audio = newAudio;

                // Reset progress
                audio.currentTime = 0;
                progress.style.width = '0%';
                progressHandle.style.left = '0%';

                // Start playing if needed
                if (isPlaying) {
                    audio.play()
                        .then(() => {
                            playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                        })
                        .catch(error => {
                            console.error("Audio play failed:", error);
                            showNotification('Failed to play audio: ' + error.message);
                        });
                }

                showNotification(`Now playing: ${track.title}${track.artist ? ' by ' + track.artist : ''}`);
            });

            // Try to load the track
            newAudio.src = track.src;
        }

        // ==============================================
        // Player Controls
        // ==============================================
        playPauseBtn.addEventListener('click', togglePlayPause);

        function togglePlayPause() {
            if (isUsingSpotifyPlayer) {
                // Control Spotify playback
                if (isPlaying) {
                    spotifyPlayer.pause();
                } else {
                    spotifyPlayer.resume();
                }
                isPlaying = !isPlaying;
                playPauseBtn.innerHTML = isPlaying ? '<i class="fas fa-pause"></i>' : '<i class="fas fa-play"></i>';
            } else {
                // Control local playback
                if (!audio.src) {
                    showNotification('No audio source selected');
                    return;
                }

                if (isPlaying) {
                    audio.pause();
                    playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                } else {
                    audio.play()
                        .then(() => {
                            playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                        })
                        .catch(error => {
                            console.error("Audio play failed:", error);
                            showNotification('Failed to play audio: ' + error.message);
                        });
                }
                isPlaying = !isPlaying;
            }
        }

        // [Keep all your existing player control functions]
        // They will work for both local and Spotify playback

        // ==============================================
        // Utility Functions
        // ==============================================
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add('show');

            setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }

        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            seconds = Math.floor(seconds % 60);
            return `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        // Initialize the app
        function init() {
            // Set greeting based on time of day
            const hour = new Date().getHours();
            const welcomeMessage = document.querySelector('.welcome-message h1');

            if (hour < 12) {
                welcomeMessage.textContent = 'Good morning';
            } else if (hour < 18) {
                welcomeMessage.textContent = 'Good afternoon';
            } else {
                welcomeMessage.textContent = 'Good evening';
            }
        }

        // Run initialization
        init();
    </script>
</body>

</html>